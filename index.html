<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HabitaciÃ³n 29 Â· Escape Room</title>
    <meta
      name="description"
      content="Explora una habitaciÃ³n interactiva tocando cada rincÃ³n para descubrir los cÃ³digos secretos del escape room."
    />
    <meta name="theme-color" content="#201637" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="HabitaciÃ³n 29" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20128%20128%27%3E%3Crect%20width%3D%27128%27%20height%3D%27128%27%20rx%3D%2726%27%20fill%3D%27%23201637%27/%3E%3Cpath%20d%3D%27M64%2098c-1.6%200-3.2-.5-4.5-1.5-15.4-11.4-25.5-20.3-31.2-27.7-5.4-7-7.8-13.2-7.8-20.4C20.5%2034.6%2030%2026.2%2041.8%2026.2c8%200%2014.2%203.5%2018%209.9%203.8-6.4%2010-9.9%2018-9.9C89.6%2026.2%2099%2034.6%2099%2048.4c0%207.3-2.4%2013.5-7.8%2020.4-5.7%207.4-15.9%2016.3-31.2%2027.7-1.3%201-2.9%201.5-4.5%201.5z%27%20fill%3D%27%23f7d27d%27/%3E%3Cpath%20d%3D%27M50%2070h6l3-13%203.4%2023%204.2-17.6%202.7%207.6h6.2%27%20fill%3D%27none%27%20stroke%3D%27%23fff3d6%27%20stroke-width%3D%275%27%20stroke-linecap%3D%27round%27%20stroke-linejoin%3D%27round%27/%3E%3C/svg%3E"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;700&family=Nunito:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="app.js"></script>
  </head>
  <body>
    <div class="intro-screen" id="introScreen">
      <div class="intro-screen__content">
        <p class="intro-screen__tag">Escape room tÃ¡ctil</p>
        <h1>HabitaciÃ³n 29</h1>
        <p>
          EstÃ¡s dentro del refugio secreto de Allende. Todo parece quieto, pero cada
          objeto guarda un nÃºmero. EncuÃ©ntralos y podrÃ¡s salir a celebrar.
        </p>
        <button id="enterRoom" class="btn btn--primary">Entrar en la habitaciÃ³n</button>
        <p class="intro-screen__hint">Toca cualquier rincÃ³n que parezca sospechoso.</p>
      </div>
    </div>

    <main id="game" class="game" aria-hidden="true" data-started="false">
      <aside class="hud" aria-label="Panel de progreso">
        <h2>Progreso</h2>
        <ul id="clueList" class="clue-list">
          <li data-clue="diary">
            <span class="clue-list__icon" aria-hidden="true">ğŸ““</span>
            <span class="clue-list__name">Cuaderno de viaje</span>
            <span class="clue-list__number" data-number="diary">_</span>
          </li>
          <li data-clue="chest">
            <span class="clue-list__icon" aria-hidden="true">ğŸ§³</span>
            <span class="clue-list__name">BaÃºl secreto</span>
            <span class="clue-list__number" data-number="chest">_</span>
          </li>
          <li data-clue="window">
            <span class="clue-list__icon" aria-hidden="true">ğŸŒ†</span>
            <span class="clue-list__name">Ventana nocturna</span>
            <span class="clue-list__number" data-number="window">_</span>
          </li>
        </ul>
        <div class="hud__code" aria-live="polite">
          CÃ³digo final:
          <span data-slot="0">_</span>
          <span data-slot="1">_</span>
          <span data-slot="2">_</span>
        </div>
        <div class="hud__notes">
          <h3>Notas</h3>
          <p id="hudNote">Necesitas encontrar tres nÃºmeros antes de abrir la puerta.</p>
        </div>
      </aside>

      <section class="room" aria-label="HabitaciÃ³n de escape">
        <div class="room__backdrop" role="presentation"></div>
        <button
          type="button"
          class="hotspot hotspot--desk"
          data-target="diary"
          aria-label="Revisar el cuaderno sobre el escritorio"
        >
          Cuaderno
        </button>
        <button
          type="button"
          class="hotspot hotspot--chest"
          data-target="chest"
          aria-label="Abrir el baÃºl junto a la cama"
        >
          BaÃºl
        </button>
        <button
          type="button"
          class="hotspot hotspot--window"
          data-target="window"
          aria-label="Mirar por la ventana"
        >
          Ventana
        </button>
        <button
          type="button"
          class="hotspot hotspot--door"
          data-target="door"
          aria-label="Intentar abrir la puerta"
        >
          Puerta
        </button>
      </section>
    </main>

    <section
      id="modal-diary"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="diaryTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <article class="modal__content">
        <button type="button" class="modal__close" data-action="close" aria-label="Cerrar">Ã—</button>
        <h2 id="diaryTitle">Cuaderno de viaje</h2>
        <p>
          Las pÃ¡ginas estÃ¡n llenas de adhesivos y boletos de aviÃ³n. Una nota dice:
          <em>"Mi primer destino siempre guarda la llave del resto"</em>.
        </p>
        <form id="diaryForm" class="option-list">
          <fieldset>
            <legend>Â¿QuÃ© lugar abriÃ³ todas las aventuras?</legend>
            <label>
              <input type="radio" name="diaryAnswer" value="paris" />
              ParÃ­s con su torre iluminada.
            </label>
            <label>
              <input type="radio" name="diaryAnswer" value="tokio" />
              Tokio y sus neones interminables.
            </label>
            <label>
              <input type="radio" name="diaryAnswer" value="ny" />
              Nueva York desde lo alto del Empire.
            </label>
          </fieldset>
          <button type="submit" class="btn btn--secondary">Desbloquear nota</button>
        </form>
        <p id="diaryFeedback" class="modal__feedback" role="status"></p>
      </article>
    </section>

    <section
      id="modal-chest"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="chestTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <article class="modal__content">
        <button type="button" class="modal__close" data-action="close" aria-label="Cerrar">Ã—</button>
        <h2 id="chestTitle">BaÃºl secreto</h2>
        <p>
          Dentro hay compartimentos con figuras magnÃ©ticas. El mensaje dice:
          <em>"Activa la secuencia favorita de Allende"</em>.
        </p>
        <div class="sequence" role="group" aria-label="Selecciona la secuencia correcta">
          <button type="button" class="sequence__token" data-symbol="cat">ğŸ±</button>
          <button type="button" class="sequence__token" data-symbol="plane">âœˆï¸</button>
          <button type="button" class="sequence__token" data-symbol="coffee">â˜•</button>
          <button type="button" class="sequence__token" data-symbol="camera">ğŸ“·</button>
        </div>
        <p class="sequence__hint">Pulsa los tres iconos en orden. Puedes reiniciar cuando quieras.</p>
        <div class="sequence__controls">
          <span id="sequenceProgress" aria-live="polite">Orden actual: â€”</span>
          <button type="button" id="sequenceReset" class="btn btn--ghost">Reiniciar</button>
        </div>
        <p id="chestFeedback" class="modal__feedback" role="status"></p>
      </article>
    </section>

    <section
      id="modal-window"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="windowTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <article class="modal__content">
        <button type="button" class="modal__close" data-action="close" aria-label="Cerrar">Ã—</button>
        <h2 id="windowTitle">Ventana nocturna</h2>
        <p>
          La ciudad brilla al fondo. Para distinguir el mensaje reflejado, la habitaciÃ³n
          debe quedar en modo <strong>celebraciÃ³n nocturna</strong>.
        </p>
        <div class="toggle-grid">
          <button type="button" class="toggle" data-toggle="lights" aria-pressed="false">
            Luces: <span>Encendidas</span>
          </button>
          <button type="button" class="toggle" data-toggle="blind" aria-pressed="false">
            Persiana: <span>Cerrada</span>
          </button>
          <button type="button" class="toggle" data-toggle="music" aria-pressed="false">
            Tocadiscos: <span>Detenido</span>
          </button>
        </div>
        <p class="toggle__hint">
          ConfiguraciÃ³n ideal: luces bajas, persiana entreabierta y mÃºsica girando.
        </p>
        <button type="button" id="toggleCheck" class="btn btn--secondary">Comprobar ambiente</button>
        <p id="windowFeedback" class="modal__feedback" role="status"></p>
      </article>
    </section>

    <section
      id="modal-door"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="doorTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <article class="modal__content">
        <button type="button" class="modal__close" data-action="close" aria-label="Cerrar">Ã—</button>
        <h2 id="doorTitle">Puerta blindada</h2>
        <p id="doorStatus">
          TodavÃ­a faltan nÃºmeros. Explora la habitaciÃ³n hasta encontrar los tres cÃ³digos.
        </p>
        <form id="doorForm" class="door-form">
          <label for="doorCode">Introduce el cÃ³digo de tres cifras</label>
          <input
            id="doorCode"
            name="doorCode"
            type="tel"
            inputmode="numeric"
            pattern="[0-9]*"
            maxlength="3"
            autocomplete="one-time-code"
            placeholder="_ _ _"
            required
          />
          <button type="submit" class="btn btn--primary">Abrir puerta</button>
        </form>
        <p id="doorFeedback" class="modal__feedback" role="status"></p>
      </article>
    </section>

    <section
      id="modal-victory"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="victoryTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <article class="modal__content modal__content--victory">
        <button type="button" class="modal__close" data-action="close" aria-label="Cerrar">Ã—</button>
        <h2 id="victoryTitle">Â¡Puerta abierta!</h2>
        <p>
          La cerradura reconoce el cÃ³digo y se abre. DetrÃ¡s hay globos, mÃºsica y una carta:
          "Feliz vuelta al sol #29. Esto apenas empieza".
        </p>
        <ul class="victory-list">
          <li>ğŸ€ Pase VIP para maratÃ³n de Hello Kitty.</li>
          <li>ğŸ—ºï¸ Coordenadas reservadas para el prÃ³ximo viaje juntos.</li>
          <li>â˜• CafÃ©s personalizados ilimitados durante el mes.</li>
        </ul>
        <button type="button" id="replay" class="btn btn--secondary">Volver a explorar</button>
      </article>
    </section>
  </body>
</html>
